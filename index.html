<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>FaceParty</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="manifest" href="manifest.json">
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.5.1"
  }
}
</script>
</head>
<body>
    <div id="app-container">
        <div id="status-bar">
            <span class="time">9:41</span>
            <div>
                <i class="fas fa-signal"></i>
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-full"></i>
            </div>
        </div>

        <div id="login-screen" class="screen">
            <div class="login-container">
                <h1 class="login-title">FaceParty</h1>
        
                <div id="login-form-container">
                    <h2 class="form-title">Connexion</h2>
                    <form id="login-form">
                        <div class="form-group">
                            <input type="email" id="login-email" placeholder="Adresse e-mail" required aria-label="Adresse e-mail">
                        </div>
                        <div class="form-group">
                            <input type="password" id="login-password" placeholder="Mot de passe" required aria-label="Mot de passe">
                        </div>
                        <button type="submit" class="button login-button">Se connecter</button>
                        <p id="login-error" class="form-error" aria-live="assertive"></p>
                    </form>
                    <p class="form-switch-text">Pas encore de compte ? <a href="#" id="show-create-account-link">Créer un compte</a></p>
                    <p class="form-forgot-password"><a href="#" id="forgot-password-link">Mot de passe oublié ?</a></p>
                </div>
        
                <div id="create-account-form-container" style="display: none;">
                    <h2 class="form-title">Créer un compte</h2>
                    <form id="create-account-form">
                        <div class="form-group">
                            <input type="text" id="create-name" placeholder="Prénom Nom" required aria-label="Prénom Nom">
                        </div>
                        <div class="form-group">
                            <input type="email" id="create-email" placeholder="Adresse e-mail" required aria-label="Adresse e-mail pour création de compte">
                        </div>
                        <div class="form-group">
                            <input type="password" id="create-password" placeholder="Mot de passe (min. 6 caractères)" required aria-label="Mot de passe pour création de compte">
                        </div>
                        <div class="form-group">
                            <input type="password" id="create-confirm-password" placeholder="Confirmer le mot de passe" required aria-label="Confirmer le mot de passe">
                        </div>
                         <div class="form-group">
                            <select id="create-gender" required aria-label="Genre">
                                <option value="" disabled selected>Genre</option>
                                <option value="male">Masculin</option>
                                <option value="female">Féminin</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <input type="number" id="create-age" placeholder="Âge" required min="18" aria-label="Âge">
                        </div>
                        <button type="submit" class="button login-button">Créer le compte</button>
                         <p id="create-account-error" class="form-error" aria-live="assertive"></p>
                    </form>
                    <p class="form-switch-text">Déjà un compte ? <a href="#" id="show-login-link">Se connecter</a></p>
                </div>
            </div>
        </div>

        <div id="home-screen" class="screen">
            <div class="home-header-top-bar">
                <button id="home-messages-button" class="header-icon-button" aria-label="Messages"><i class="fas fa-comment-dots"></i></button>
                <!-- Space for title or can be empty -->
            </div>
            <div class="home-header">
                <div class="profile-summary-cover" id="home-profile-navigation-trigger" role="button" tabindex="0" aria-label="View your profile">
                    <img src="https_placeholder_cover.jpg" alt="Cover Photo" id="home-cover-photo" class="cover-photo-img">
                    <div class="profile-summary-info">
                        <div class="profile-pic-container" id="home-profile-pic-container">
                            <img src="https_placeholder_profile.jpg" alt="Florian Edouard" id="home-profile-pic" class="profile-pic-img">
                        </div>
                        <div class="user-details" id="home-user-details-container">
                            <h1 id="home-user-name">Florian Edouard ✔</h1>
                            <p id="home-user-bio">Developer #web #software #mobileDev | #graphicdesigner #Artist #fullstackdeveloper</p>
                        </div>
                    </div>
                </div>
                 <div class="profile-stats-actions">
                    <div class="stats">
                        <button class="stat-item clickable-stat" id="home-facematch-stat-trigger" aria-label="View today's Facematches">
                            <span id="home-facematch-count">17</span>
                            <span>FaceMatch</span>
                        </button>
                        <button class="stat-item clickable-stat" id="home-facelike-stat-trigger" aria-label="View today's pending Facelikes">
                            <span id="home-facelike-count">270</span>
                            <span>FaceLike</span>
                        </button>
                    </div>
                    <div class="actions">
                        <button id="btn-friends" aria-label="Friends"><i class="fas fa-user-friends"></i> Amis</button>
                        <button id="btn-stats" aria-label="Statistics"><i class="fas fa-chart-bar"></i> Stats</button>
                        <button id="btn-settings" aria-label="Settings"><i class="fas fa-cog"></i></button>
                    </div>
                </div>
            </div>

            <div class="search-bar-container">
                <input type="text" id="home-search-bar" placeholder="Rechercher une soirée..." aria-label="Search for a party">
                <i class="fas fa-search search-icon"></i>
            </div>

            <div class="party-lists">
                <section>
                    <div class="section-header">
                        <h2>Soirées autour de toi</h2>
                        <button class="view-all-button" aria-label="View all parties around you">&gt;</button>
                    </div>
                    <div class="party-carousel" id="parties-around-carousel">
                        <!-- Party cards will be injected here -->
                    </div>
                </section>
                <section>
                    <div class="section-header">
                        <h2>Tes soirées passées</h2>
                        <button class="view-all-button" aria-label="View all past parties">&gt;</button>
                    </div>
                    <div class="party-carousel" id="past-parties-carousel">
                        <!-- Party cards will be injected here -->
                    </div>
                </section>
            </div>
        </div>

        <div id="profile-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Home"><i class="fas fa-chevron-left"></i></button>
                <h2>Profil</h2>
                <button id="profile-settings-button" class="action-button" aria-label="Settings"><i class="fas fa-cog"></i></button>
            </div>
            <div class="profile-content">
                <div class="profile-main-photo-container">
                    <img src="https_placeholder_profile_large.jpg" alt="User Profile Picture" id="profile-main-pic" class="profile-main-pic-img">
                </div>
                <h1 id="profile-name-age">Florian Edouard, 24 ans</h1>
                <div id="profile-favorite-drink-container" class="profile-info-item">
                    <i class="fas fa-martini-glass"></i> <span id="profile-favorite-drink">Moscow Mule</span>
                </div>
                
                <div class="faceparty-plus-banner">
                    <h3>FaceParty +</h3>
                    <p>Mets ton profil en avant, organise des soirées privées, et plus encore...</p>
                    <button id="try-faceparty-plus-button">Essayer 1 mois &gt;</button>
                </div>

                <div class="profile-details-section">
                    <h4>Mes informations</h4>
                    <div id="profile-gender-container" class="profile-info-item edit-target">
                         <p><strong>Genre:</strong> <span id="profile-gender"></span></p>
                    </div>
                     <div id="profile-detailed-gender-container" class="profile-info-item edit-target" style="display: none;">
                        <p><strong>Genre détaillé:</strong> <span id="profile-detailed-gender"></span></p>
                    </div>
                    <div id="profile-bio-container" class="profile-info-item edit-target">
                        <p><strong>Bio:</strong> <span id="profile-bio-text">Your bio here...</span></p>
                    </div>
                    <div id="profile-height-container" class="profile-info-item edit-target">
                        <p><strong>Taille:</strong> <span id="profile-height">175cm</span></p>
                    </div>
                    <div id="profile-eye-color-container" class="profile-info-item edit-target">
                        <p><strong>Couleur des yeux:</strong> <span id="profile-eye-color">Brun</span></p>
                    </div>
                    <div id="profile-hair-color-container" class="profile-info-item edit-target">
                        <p><strong>Couleur des cheveux:</strong> <span id="profile-hair-color">Brun Foncé</span></p>
                    </div>
                    <div id="profile-nationality-container" class="profile-info-item edit-target">
                        <p><strong>Nationalité:</strong> <span id="profile-nationality">Française</span></p>
                    </div>
                </div>
                
                <div class="profile-private-section profile-details-section">
                    <h4>Section Privée (pour suggestions IA)</h4>
                    <div id="profile-private-self-desc-container" class="profile-info-item edit-target">
                        <label for="edit-profile-private-self-desc"><strong>Comment je suis (privé):</strong></label>
                        <textarea id="edit-profile-private-self-desc" rows="4" placeholder="Décrivez votre personnalité, vos passions, ce qui vous rend unique... Cette information est privée et utilisée pour les suggestions IA."></textarea>
                    </div>
                    <div id="profile-private-partner-desc-container" class="profile-info-item edit-target">
                        <label for="edit-profile-private-partner-desc"><strong>Ce que je recherche (privé):</strong></label>
                        <textarea id="edit-profile-private-partner-desc" rows="4" placeholder="Décrivez votre personne idéale : traits physiques, personnalité, origines, passions... Cette information est privée et utilisée pour les suggestions IA."></textarea>
                    </div>
                </div>

                <button id="edit-profile-info-button" class="edit-button">Modifier les informations</button>
                
                 <div class="profile-photos-section">
                    <h4>Mes Photos</h4>
                    <div class="photo-grid" id="profile-photo-grid">
                        <!-- Photos will be injected here -->
                    </div>
                    <button id="add-profile-photo-button" class="edit-button">Ajouter des photos</button>
                </div>
            </div>
        </div>

        <div id="search-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Home"><i class="fas fa-chevron-left"></i></button>
                <h2>Rechercher</h2>
                 <button id="search-filter-button" class="action-button" aria-label="Filter"><i class="fas fa-filter"></i></button>
            </div>
            <div class="search-content">
                <div class="map-placeholder">
                    <img src="https_placeholder_map.jpg" alt="Map placeholder">
                </div>
                <div class="search-input-area">
                    <input type="text" id="party-search-input" placeholder="Nom de la soirée, lieu..." aria-label="Search party name or location">
                    <input type="date" id="party-search-date" aria-label="Select date">
                    <button id="party-search-button" aria-label="Search parties"><i class="fas fa-search"></i></button>
                </div>
                <div id="search-results-list" class="search-results-container">
                    <!-- Search results will be injected here -->
                </div>
            </div>
        </div>

        <div id="party-details-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="party-details-name">Nom de la Soirée</h2>
                <button class="action-button" id="party-details-share-button" aria-label="Share Party"><i class="fas fa-share-alt"></i></button>
            </div>
            <div class="party-details-content">
                 <img src="https_placeholder_party_banner.jpg" alt="Party Banner" id="party-details-banner" class="party-banner-img">
                 <div id="party-media-gallery" class="party-media-gallery">
                    <!-- Additional media will be injected here -->
                </div>
                <div class="party-info-main">
                    <h3 id="party-details-title-date">PARADISE CLUB - 18H00, 24 Août</h3>
                    <p id="party-details-address"><i class="fas fa-map-marker-alt"></i> Rue de la Paix, Paris 1er</p>
                </div>
                <div class="party-live-stats">
                    <span id="party-details-total-fp-visitors-trigger" class="clickable-stat-area" role="button" tabindex="0" aria-label="View historical FaceParty visitor counts for this venue">
                        <i class="fas fa-users-line"></i> <span id="party-details-total-fp-visitors-text">0 FP Visiteurs (historique)</span>
                    </span>
                    <span id="party-details-average-rating-trigger" class="clickable-stat-area" role="button" tabindex="0" aria-label="View party rating evolution and comments">
                        <i class="fas fa-star"></i> <span id="party-details-average-rating">4.5 / 5</span>
                    </span>
                    <span id="party-details-attendees-clickable-trigger" class="clickable-stat-area" role="button" tabindex="0" aria-label="View friends attending this party">
                        <i class="fas fa-users"></i>
                        <span id="party-details-attendees-short">Aucun de vos amis.</span>
                    </span>
                </div>
                <div class="party-info-tabs">
                    <p><strong>Ambiance:</strong> <span id="party-details-ambiance">African House Mix And Banana Bass</span></p>
                    <p><strong>DressCode:</strong> <span id="party-details-dresscode">Tenue décontractée</span></p>
                    <p><strong>Sélectivité:</strong> <span id="party-details-selectivity">Entrée gratuite pour les filles...</span></p>
                    <p><strong>Participants FaceParty (Actuel):</strong> <span id="party-details-fp-count">42</span></p>
                </div>
                <button id="btn-view-lineup-details" class="button simple-button" style="margin: 10px 15px; width: calc(100% - 30px); background-color: var(--secondary-bg);">Voir le Line-up Complet</button>
                <button id="btn-send-party-to-friends" class="button simple-button" style="margin: 0px 15px 10px 15px; width: calc(100% - 30px); background-color: var(--secondary-bg);">Envoyer à des amis</button>


                <button id="btn-join-party" class="join-button">Rejoindre</button>
                <button id="btn-join-friend-at-party" class="join-button" style="display:none; background-color: var(--ios-blue); margin-top: 10px;">Rejoindre Ami(e)</button>
            </div>
        </div>
        
         <div id="party-rating-evolution-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="party-rating-evolution-title">Avis & Évolution - NOM DU CLUB</h2>
            </div>
            <div class="party-rating-evolution-content-area">
                <section class="monthly-ratings-section">
                    <div id="monthly-ratings-list">
                        <!-- Monthly rating items will be dynamically injected here -->
                    </div>
                </section>

                <hr class="section-divider">

                <section class="anonymous-reviews-section">
                    <h3 class="anonymous-reviews-title">Avis Anonymes</h3>
                    <div id="anonymous-reviews-list">
                        <!-- Review cards will be dynamically injected here -->
                    </div>
                </section>

                <section class="new-review-section">
                    <textarea id="new-anonymous-review-input" placeholder="Laissez votre avis anonyme ici..." aria-label="Laissez votre avis anonyme"></textarea>
                    <button id="submit-anonymous-review-button" class="button">Soumettre l'avis</button>
                </section>
            </div>
        </div>

        <div id="lineup-details-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Party Participants"><i class="fas fa-chevron-left"></i></button>
                <h2 id="lineup-details-party-name">Line-up</h2>
            </div>
            <div class="lineup-details-content settings-content">
                <section class="setting-section">
                    <h4 id="lineup-details-schedule-title">Programme de ce soir</h4>
                    <ul id="lineup-schedule-list" class="info-list">
                        <!-- Schedule items will be injected here -->
                    </ul>
                </section>
                <section class="setting-section">
                    <h4>Historique Musical (6 derniers mois)</h4>
                     <ul id="lineup-history-list" class="info-list">
                        <!-- History items will be injected here -->
                    </ul>
                </section>
            </div>
        </div>

        <div id="fp-visitors-history-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Party Details"><i class="fas fa-chevron-left"></i></button>
                <h2 id="fp-visitors-history-party-name">Historique Visiteurs FP</h2>
            </div>
            <div class="fp-visitors-history-content settings-content" style="padding:15px;">
                 <ul id="fp-visitors-history-list" class="info-list" style="padding:0;">
                    <!-- Visitor history items will be injected here -->
                </ul>
            </div>
        </div>


        <div id="party-participants-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="participants-party-name">Paradise Club</h2>
                 <button id="participants-filter-toggle-button" class="action-button" aria-label="Filter participants"><i class="fas fa-sliders-h"></i></button>
            </div>
            <div class="participants-info-bar">
                 <span><span id="participants-fp-count">35</span> profils FaceParty</span> | 
                 <span><span id="participants-total-people">260</span> Personnes</span> | 
                 <span>Ferme à <span id="participants-closing-time">3H00</span></span>
            </div>
            <div class="participants-actions">
                <button id="btn-lineup">Line-up <i class="fas fa-list-music"></i></button>
                <button id="btn-my-facelikes">Mes facelikes <i class="fas fa-heart"></i></button>
            </div>
            <div class="filter-controls">
                <span>Filtres:</span>
                <select id="filter-gender" aria-label="Filter by gender">
                    <option value="all">Genre (Tous)</option>
                    <option value="female">Filles</option>
                    <option value="male">Garçons</option>
                    <option value="other">Autre</option>
                </select>
                <div id="filter-specific-gender-container" class="filter-control-item" style="display:none;">
                     <select id="filter-specific-gender" aria-label="Filter by specific gender">
                        <!-- Options populated by JS -->
                    </select>
                </div>
                <div id="filter-age-multiselect-container" class="filter-control-item">
                    <button id="filter-age-button" class="filter-multiselect-button" aria-expanded="false" aria-controls="filter-age-checkboxes-list">Âge (Tous)</button>
                    <div id="filter-age-checkboxes-list" class="filter-multiselect-checkboxes-list" style="display: none;">
                        <!-- Age checkboxes will be populated by JS -->
                    </div>
                </div>
                <input type="text" id="filter-country" placeholder="Pays d'origine" aria-label="Filter by country of origin">
                <select id="filter-height" aria-label="Filter by height">
                    <option value="all">Taille (Toutes)</option>
                    <!-- Height options will be populated by JS -->
                </select>
                <select id="filter-eye-color" aria-label="Filter by eye color">
                    <!-- Options populated by JS -->
                </select>
                <select id="filter-hair-color" aria-label="Filter by hair color">
                    <!-- Options populated by JS -->
                </select>
                 <button id="ai-suggestion-trigger-button" title="Get AI suggestions for profiles to connect with">
                    <i class="fas fa-wand-magic-sparkles"></i> Suggestions IA
                </button>
            </div>
            
            <div id="ai-suggestion-engine-area" style="display: none; padding: 0 15px 10px 15px;">
                <div class="ai-suggestion-type-selector">
                    <button id="ai-suggestion-type-appealsToMe" class="ai-suggestion-type-button active" data-type="appealsToMe">Pourrait me plaire</button>
                    <button id="ai-suggestion-type-iAppealTo" class="ai-suggestion-type-button" data-type="iAppealTo">Je pourrais plaire</button>
                    <button id="ai-suggestion-type-mutualMatch" class="ai-suggestion-type-button" data-type="mutualMatch">Match Mutuel</button>
                </div>
                <p id="ai-current-ranking-title" class="ai-ranking-title">Classement des personnes susceptibles de me plaire</p>
                <div id="ai-suggestions-list-container" class="ai-suggestions-list">
                    <!-- Ranked AI suggestions will be injected here -->
                </div>
                <button id="btn-finish-ai-suggestions" class="button" style="display:none;">Suggestions Terminées</button>
            </div>

            <div id="participants-list" class="participants-list-container">
                <!-- Participant cards will be injected here -->
            </div>
        </div>

        <div id="facelikes-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="facelikes-screen-title">Facelikes Reçus Aujourd'hui</h2>
            </div>
            <div id="facelikes-list" class="facelikes-list-container list-container-grouped">
                <!-- Facelike items grouped by party will be injected here -->
            </div>
        </div>
        
        <div id="facematches-today-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="facematches-today-screen-title">Facematchs d'Aujourd'hui</h2>
            </div>
            <div id="facematches-today-list" class="facematches-list-container list-container-grouped">
                <!-- Facematch items grouped by party will be injected here -->
            </div>
        </div>

        <div id="messaging-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2>Messagerie</h2>
                <button id="messaging-screen-new-message-button" class="action-button" aria-label="New Message"><i class="fas fa-edit"></i></button>
            </div>
            <div id="conversations-list" class="conversations-list-container">
                <!-- Conversation items will be injected here -->
            </div>
        </div>

        <div id="new-chat-friends-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Messages"><i class="fas fa-chevron-left"></i></button>
                <h2>Nouveau Message</h2>
            </div>
            <div id="new-chat-friends-list" class="list-container-grouped">
                <!-- Friend items for starting new chat will be injected here -->
            </div>
        </div>
        
        <div id="chat-view-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Messages"><i class="fas fa-chevron-left"></i></button>
                <h2 id="chat-with-name">Nom du Contact</h2>
                <img src="https_placeholder_chat_avatar.jpg" alt="Avatar" id="chat-avatar" class="chat-avatar-icon">
            </div>
            <div class="chat-messages-area" id="chat-messages">
                <!-- Messages will be injected here -->
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-message-input" placeholder="Écrire un message..." aria-label="Message input">
                <button id="send-chat-message" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

        <div id="statistics-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2>Statistiques</h2>
            </div>
            <div class="statistics-content">
                <h3>Résumé Général</h3>
                <p><strong>Facelikes envoyés:</strong> <span id="stats-fl-sent">0</span></p>
                <p><strong>Facelikes reçus (historique total):</strong> <span id="stats-fl-received-total">0</span></p>
                <p><strong>Facelikes reçus (en attente d'action):</strong> <span id="stats-fl-received-pending">0</span></p>
                <p><strong>Facematchs (confirmés):</strong> <span id="stats-fm-total">0</span></p>
                
                <div class="stats-graph-placeholder">
                    <h4>Activité des Facelikes (Graphique Linéaire)</h4>
                    <div id="stats-activity-chart-placeholder" class="chart-placeholder">Graphique ici</div>
                </div>

                <div class="stats-graph-placeholder">
                    <h4>Répartition des Facematchs par Soirée (Graphique à Barres)</h4>
                    <div id="stats-party-breakdown-chart-placeholder" class="chart-placeholder">Graphique ici</div>
                </div>
                
                <h4>Détails des Facematchs par lieu festif:</h4>
                <ul id="stats-party-list">
                    <!-- Party stats here -->
                </ul>
                <div class="stats-detail-section">
                    <h4>Tendances des Amis</h4>
                    <p><strong>Demandes d'amis envoyées:</strong> <span id="stats-friend-req-sent">0</span></p>
                    <p><strong>Demandes d'amis reçues:</strong> <span id="stats-friend-req-received">0</span></p>
                    <p><strong>Taux d'acceptation:</strong> <span id="stats-friend-acceptance-rate">N/A</span></p>
                </div>
            </div>
        </div>

        <div id="settings-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2>Paramètres</h2>
            </div>
            <div class="settings-content" id="settings-buttons-list">
                <button class="setting-list-item-button" id="nav-notifications-settings">Notifications</button>
                <button class="setting-list-item-button" id="nav-privacy-settings">Confidentialité</button>
                <button class="setting-list-item-button" id="nav-account-settings">Compte</button>
                <button class="setting-list-item-button" id="nav-help-settings">Aide & Support</button>
                <button class="setting-list-item-button" id="nav-logout-settings">Déconnexion</button>
            </div>
        </div>
        
        <div id="notifications-setting-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Settings"><i class="fas fa-chevron-left"></i></button>
                <h2 id="notifications-setting-title">Notifications</h2>
            </div>
            <div class="settings-content" id="notifications-settings-content">
                <!-- Notification toggles will be injected here by JS -->
            </div>
        </div>

        <div id="privacy-setting-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Settings"><i class="fas fa-chevron-left"></i></button>
                <h2 id="privacy-setting-title">Confidentialité</h2>
            </div>
             <div class="settings-content" id="privacy-settings-content">
                <!-- Privacy toggles will be injected here by JS -->
            </div>
        </div>

        <div id="account-setting-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Settings"><i class="fas fa-chevron-left"></i></button>
                <h2 id="account-setting-title">Compte</h2>
            </div>
            <div class="settings-content" id="account-settings-content">
                <!-- Account details and actions will be injected here by JS -->
            </div>
        </div>

        <div id="help-setting-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Settings"><i class="fas fa-chevron-left"></i></button>
                <h2 id="help-setting-title">Aide & Support</h2>
            </div>
            <div class="settings-content" id="help-settings-content">
                <!-- Help/FAQ content will be injected here by JS -->
            </div>
        </div>

        <div id="friends-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2>Amis</h2>
                <button id="show-qr-code-button" class="action-button" aria-label="Show my QR code">
                    <i class="fas fa-qrcode"></i>
                </button>
            </div>
            <div class="friends-content">
                 <div class="friend-management-section">
                    <h4>Demandes Reçues (<span id="received-requests-count">0</span>)</h4>
                    <div id="received-friend-requests-list">
                        <!-- Received requests will be populated here -->
                    </div>
                </div>
                <div class="friend-management-section">
                    <h4>Mes Amis (<span id="my-friends-count">0</span>)</h4>
                    <div id="my-friends-list">
                        <!-- Friends list will be populated here -->
                    </div>
                </div>
                <div class="friend-management-section">
                    <h4>Demandes Envoyées (<span id="sent-requests-count">0</span>)</h4>
                    <div id="sent-friend-requests-list">
                        <!-- Sent requests will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <div id="participant-profile-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back to Participants"><i class="fas fa-chevron-left"></i></button>
                <h2 id="participant-profile-name-header">Profil du Participant</h2>
                 <button id="participant-profile-facelike-button-header" class="action-button facelike-button" aria-label="Facelike">
                    <i class="far fa-heart"></i> Facelike
                </button>
            </div>
            <div class="profile-content"> 
                <div class="profile-main-photo-container">
                    <img src="https_placeholder_profile_large.jpg" alt="Participant Profile Picture" id="participant-profile-main-pic" class="profile-main-pic-img">
                </div>
                <h1 id="participant-profile-name-age">Nom, Age</h1>
                <p id="participant-profile-drink"><i class="fas fa-martini-glass"></i> Boisson Favorite</p>
                <p id="participant-profile-bio" class="participant-bio-display">"Bio du participant..."</p>
                
                <div id="participant-profile-going-out-status" class="profile-info-item" style="display:none; margin-bottom: 15px; font-weight: bold; color: var(--accent-color);">
                    <!-- Going out status here -->
                </div>

                <div class="profile-details-section">
                    <h4>Informations Publiques</h4>
                    <p><strong>Genre:</strong> <span id="participant-profile-gender">N/A</span></p>
                    <p><strong>Taille:</strong> <span id="participant-profile-height">N/A</span></p>
                    <p><strong>Pays d'origine:</strong> <span id="participant-profile-country">N/A</span></p>
                    <p><strong>Couleur des yeux:</strong> <span id="participant-profile-eye-color">N/A</span></p>
                    <p><strong>Couleur des cheveux:</strong> <span id="participant-profile-hair-color">N/A</span></p>
                </div>

                <button id="participant-profile-facelike-button-main" class="edit-button facelike-button">
                    <i class="far fa-heart"></i> Facelike
                </button>
                <button id="participant-profile-add-friend-button" class="edit-button" style="margin-top: 10px; background-color: var(--ios-blue);">
                    <i class="fas fa-user-plus"></i> Ajouter comme ami
                </button>
                 <button id="participant-profile-remove-friend-button" class="edit-button" style="margin-top: 10px; background-color: var(--accent-secondary); display:none;">
                    <i class="fas fa-user-minus"></i> Retirer de la liste d'amis
                </button>
            </div>
        </div>

        <div id="friends-attending-party-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="friends-attending-party-title">Amis à cette soirée</h2>
            </div>
            <div id="friends-attending-party-list" class="list-container-grouped participants-list-container">
                <!-- Friend items will be injected here -->
            </div>
        </div>

        <div id="send-party-to-friends-screen" class="screen">
            <div class="screen-header">
                <button class="back-button" aria-label="Back"><i class="fas fa-chevron-left"></i></button>
                <h2 id="send-party-friends-title">Envoyer à des amis</h2>
                <button id="send-party-to-friends-action-button" class="action-button" aria-label="Send">Envoyer</button>
            </div>
            <div id="send-party-friends-list-container" class="settings-content" style="padding-top:0;">
                <!-- Friends list for selection will be injected here -->
            </div>
            <p id="send-party-feedback-message" class="modal-feedback" style="padding: 0 15px;"></p>
        </div>
        
        <!-- QR Code Modal -->
        <div id="qr-code-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-close-qr-modal-button">&times;</span>
                <h3>Scannez pour m'ajouter !</h3>
                <img id="my-qr-code-img" src="https_placeholder_qr.png" alt="My QR Code" style="width: 200px; height: 200px; margin: 20px auto; display: block; background-color: white; padding:10px; border-radius: 5px;">
                <p id="my-qr-code-data-text" style="text-align:center; font-size:12px; color: var(--text-secondary);"></p>
            </div>
        </div>

        <!-- Share Party Modal -->
        <div id="share-party-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-share-party-modal-close-button">&times;</span>
                <h4 id="share-party-modal-title">Partager la soirée</h4>
                 <div id="share-party-friends-list" style="max-height: 200px; overflow-y: auto; margin-bottom: 15px;">
                    <!-- Friends list populated by JS -->
                </div>
                <button id="share-party-send-button" class="button">Envoyer aux amis sélectionnés</button>
                <button id="share-party-copy-link-button" class="button" style="background-color: var(--secondary-bg); margin-top:10px;">Copier le lien de la soirée</button>
                <p class="modal-feedback" id="share-party-feedback"></p>
            </div>
        </div>


        <!-- Change Email Modal -->
        <div id="change-email-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-change-email-modal-close-button">&times;</span>
                <h4>Changer d'adresse e-mail</h4>
                <div class="form-group">
                    <label for="current-email-display">E-mail actuel:</label>
                    <p id="current-email-display" class="current-info-display"></p>
                </div>
                <div class="form-group">
                    <label for="new-email-input">Nouvel e-mail:</label>
                    <input type="email" id="new-email-input" placeholder="entrez_nouvel_email@example.com">
                </div>
                <button id="send-email-code-button" class="button">Envoyer le code de vérification</button>
                <div id="email-verification-code-group" class="form-group" style="display:none;">
                    <label for="email-verification-code-input">Code de vérification (envoyé au nouvel e-mail):</label>
                    <input type="text" id="email-verification-code-input" placeholder="123456">
                    <button id="verify-new-email-button" class="button" style="margin-top:10px;">Vérifier et Enregistrer</button>
                </div>
                 <p class="modal-feedback" id="change-email-feedback"></p>
            </div>
        </div>

        <!-- Change Phone Modal -->
        <div id="change-phone-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-change-phone-modal-close-button">&times;</span>
                <h4>Changer de numéro de téléphone</h4>
                <div class="form-group">
                    <label for="current-phone-display">Téléphone actuel:</label>
                    <p id="current-phone-display" class="current-info-display"></p>
                </div>
                <div class="form-group">
                    <label for="new-phone-input">Nouveau téléphone:</label>
                    <input type="tel" id="new-phone-input" placeholder="+33612345678">
                </div>
                <button id="send-phone-code-button" class="button">Envoyer le code de vérification</button>
                <div id="phone-verification-code-group" class="form-group" style="display:none;">
                    <p class="info-text">Un code a été envoyé à votre adresse e-mail: <span id="phone-verification-email-info"></span></p>
                    <label for="phone-verification-code-input">Code de vérification:</label>
                    <input type="text" id="phone-verification-code-input" placeholder="123456">
                    <button id="verify-new-phone-button" class="button" style="margin-top:10px;">Vérifier et Enregistrer</button>
                </div>
                <p class="modal-feedback" id="change-phone-feedback"></p>
            </div>
        </div>

        <!-- Change Password Modal -->
        <div id="change-password-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-change-password-modal-close-button">&times;</span>
                <h4>Changer de mot de passe</h4>
                <div class="form-group">
                    <label for="old-password-input">Ancien mot de passe:</label>
                    <input type="password" id="old-password-input">
                </div>
                <div class="form-group">
                    <label for="new-password-input">Nouveau mot de passe:</label>
                    <input type="password" id="new-password-input">
                </div>
                <div class="form-group">
                    <label for="confirm-new-password-input">Confirmer nouveau mot de passe:</label>
                    <input type="password" id="confirm-new-password-input">
                </div>
                <button id="save-new-password-button" class="button">Enregistrer le nouveau mot de passe</button>
                <p class="modal-feedback" id="change-password-feedback"></p>
            </div>
        </div>
        
        <!-- Forgot Password Modal -->
        <div id="forgot-password-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-forgot-password-modal-close-button">&times;</span>
                <h4>Mot de passe oublié</h4>
                <p>Où souhaitez-vous recevoir les instructions de réinitialisation ?</p>
                <div class="form-group">
                    <button id="forgot-password-send-email" class="button">Envoyer à l'e-mail (<span id="forgot-password-email-display"></span>)</button>
                </div>
                 <div class="form-group">
                    <button id="forgot-password-send-phone" class="button">Envoyer au téléphone (<span id="forgot-password-phone-display"></span>)</button>
                </div>
                <p class="modal-feedback" id="forgot-password-feedback"></p>
            </div>
        </div>

        <!-- Logout Confirmation Modal -->
        <div id="logout-confirm-modal" class="modal">
            <div class="modal-content">
                <span class="close-button modal-close-button" id="actual-close-logout-confirm-modal-button">&times;</span>
                <h4 style="text-align: center; margin-bottom: 20px;">Déconnexion</h4>
                <p style="text-align: center; margin-bottom: 25px;">Êtes-vous sûr de vouloir vous déconnecter ?</p>
                <div style="display: flex; justify-content: space-around; gap: 10px;">
                    <button id="logout-confirm-yes-button" class="button" style="flex-grow: 1; background-color: var(--danger-color);">Oui</button>
                    <button id="logout-confirm-no-button" class="button" style="flex-grow: 1; background-color: var(--secondary-bg);">Non</button>
                </div>
            </div>
        </div>
        

    </div>
    <script type="module" src="index.tsx"></script>
</body>
</html>
